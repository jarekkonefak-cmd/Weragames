<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dla Mojej Walentynki</title>
    <link rel="stylesheet" href="styl.css">
</head>
<body>

    <h1>Nasza Galeria Wspomnień</h1>
    <p class="instrukcja">Każda wygrana gra odsłania jedno wspomnienie...</p>

    <div class="muzeum">
        <div class="ramka" onclick="sprawdzGre(1)">
            <img src="fotka1.jpg" id="foto-1" class="ukryte">
            <div id="klodka-1" class="klodka">
                <span>GRA 1</span>
                <small>Kliknij, aby zagrać</small>
            </div>
        </div>

        <div class="ramka" onclick="sprawdzGre(2)">
            <img src="fotka2.jpg" id="foto-2" class="ukryte">
            <div id="klodka-2" class="klodka">
                <span>GRA 2</span>
                <small>Kliknij, aby zagrać</small>
            </div>
        </div>

        <div class="ramka" onclick="sprawdzGre(3)">
            <img src="fotka3.jpg" id="foto-3" class="ukryte">
            <div id="klodka-3" class="klodka">
                <span>GRA 3</span>
                <small>Kliknij, aby zagrać</small>
            </div>
        </div>
        
        </div>

    <button onclick="resetujGre()" style="margin-top:50px; opacity:0.3;">Resetuj (Test)</button>

    <script>
        // Ta funkcja uruchamia się zawsze po wejściu na stronę
        // Sprawdza, które gry są już wygrane
        for (let i = 1; i <= 5; i++) {
            // Sprawdzamy w pamięci przeglądarki czy jest wpis "wygrana1", "wygrana2" itd.
            if (localStorage.getItem('wygrana' + i) === 'tak') {
                odblokuj(i);
            }
        }

        function odblokuj(numer) {
            document.getElementById('foto-' + numer).classList.remove('ukryte');
            document.getElementById('klodka-' + numer).style.display = 'none';
        }

        function sprawdzGre(numer) {
            if (localStorage.getItem('wygrana' + numer) === 'tak') {
                alert("Już zdobyłaś to zdjęcie! Kocham Cię! ❤️");
            } else {
                // Przenosi do pliku gra1.html, gra2.html itd.
                window.location.href = 'gra' + numer + '.html';
            }
        }

        function resetujGre() {
            localStorage.clear();
            location.reload();
        }
    </script>

</body>
</html>
