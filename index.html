<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nasza Galeria</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">
    
    <style>
        /* --- OGÓLNE USTAWIENIA --- */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #111;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- POKÓJ 3D --- */
        .room-container {
            width: 100vw;
            height: 100vh;
            perspective: 1000px; /* Głębokość perspektywy */
            position: relative;
            overflow: hidden;
        }

        .room {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transform: rotateX(5deg); /* Lekkie spojrzenie z góry */
        }

        /* ŚCIANA */
        .wall {
            position: absolute;
            width: 140%; /* Szersza niż ekran, żeby nie było widać brzegów */
            height: 85vh;
            left: -20%;
            top: 0;
            /* Kolor ściany jak na Twoim zdjęciu */
            background: linear-gradient(to bottom, #5a7d9c, #7396b5 40%, #8fb2d1);
            box-shadow: inset 0 50px 100px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
            transform: translateZ(-200px);
        }

        /* PODŁOGA */
        .floor {
            position: absolute;
            top: 85vh;
            width: 140%;
            height: 60vh;
            left: -20%;
            background-color: #c2a370;
            /* Wzór parkietu */
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 20px),
                repeating-linear-gradient(-45deg, transparent, transparent 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 20px);
            box-shadow: inset 0 20px 50px rgba(0,0,0,0.6);
            transform: rotateX(85deg) translateZ(-200px);
            transform-origin: top;
        }

        .molding-top {
            position: absolute;
            top: -10px;
            width: 100%;
            height: 15px;
            background: #eee;
            border-bottom: 3px solid #999;
        }

        h1 {
            font-family: 'Cinzel Decorative', cursive;
            color: #fadd75;
            font-size: 2.5rem; /* Mniejsza czcionka na start */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            margin: 10px 0 20px 0;
            text-align: center;
            z-index: 10;
        }

        /* --- UKŁAD GALERII --- */
        .gallery-grid {
            display: flex;
            flex-wrap: wrap; /* Pozwala zawijać elementy do nowej linii */
            justify-content: center;
            align-items: center; /* Wyrównanie w pionie */
            gap: 30px; /* Odstępy między obrazami */
            max-width: 900px;
            padding: 20px;
        }

        /* POJEDYNCZE MIEJSCE NA OBRAZ */
        .spot {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .spot:hover {
            transform: scale(1.05);
        }

        /* RÓŻNE ROZMIARY I KSZTAŁTY (KLASY) */
        .shape-portrait { width: 130px; height: 180px; } /* Pionowy */
        .shape-landscape { width: 180px; height: 130px; } /* Poziomy */
        .shape-square { width: 150px; height: 150px; } /* Kwadrat */
        .shape-oval { width: 140px; height: 170px; border-radius: 50%; } /* Owalny */

        /* --- STAN 1: PRZED WYGRANĄ (Przerywana linia + Gwóźdź) --- */
        .outline-placeholder {
            width: 100%;
            height: 100%;
            border: 2px dashed rgba(255, 255, 255, 0.4); /* Przerywana linia */
            border-radius: 5px; /* Lekko zaokrąglone rogi */
            position: relative;
            display: flex;
            justify-content: center;
            /* Domyślnie widoczne */
        }

        /* Obsługa owalu dla linii przerywanej */
        .shape-oval .outline-placeholder { border-radius: 50%; }

        /* GWÓŹDŹ */
        .nail {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            position: absolute;
            top: 15px; /* Gwóźdź jest zawsze u góry */
            z-index: 5;
        }

        /* --- STAN 2: PO WYGRANEJ (Złota Rama) --- */
        .gold-frame {
            width: 100%;
            height: 100%;
            background: #000;
            border: 10px solid #eebb55;
            border-image: linear-gradient(45deg, #b88a44, #eebb55, #8a6e34, #eebb55) 1;
            box-shadow: 0 10px 20px rgba(0,0,0,0.6);
            display: none; /* DOMYŚLNIE UKRYTE! */
            overflow: hidden;
            position: relative;
            z-index: 10; /* Przykrywa gwóźdź */
        }
        
        /* Owalna rama wymaga innej techniki niż border-image */
        .shape-oval .gold-frame {
            border-radius: 50%;
            border: 8px solid #eebb55; /* Prostsza rama dla owalu */
            border-image: none;
        }

        .gold-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- TABLICZKA Z NAZWĄ (Pod spodem) --- */
        .plaque {
            margin-top: 10px;
            background: rgba(0,0,0,0.3);
            color: #ddd;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .spot:hover .plaque {
            background: #eebb55;
            color: #000;
        }

        /* --- RESPONSYWNOŚĆ NA TELEFON --- */
        @media (max-width: 600px) {
            h1 { font-size: 1.5rem; margin-bottom: 10px; }
            
            .wall { 
                height: 90vh; /* Wyższa ściana na telefonie */
                padding-top: 50px; 
            }
            .floor { top: 90vh; }
            
            .gallery-grid {
                gap: 15px; /* Mniejsze odstępy */
                padding-top: 0;
                /* Skalujemy trochę w dół, żeby zmieścić 5 gier */
                transform: scale(0.85); 
            }
        }

        #reset-btn {
            position: fixed;
            bottom: 10px;
            right: 10px;
            opacity: 0.5;
            font-size: 10px;
        }
    </style>
</head>
<body>

    <div class="room-container">
        <div class="room">
            <div class="floor"></div>
            <div class="wall">
                <div class="molding-top"></div>
                <h1>Nasza Kolekcja Wspomnień</h1>

                <div class="gallery-grid">

                    <div class="spot shape-portrait" onclick="idzDoGry(1)">
                        <div class="outline-placeholder" id="outline-1">
                            <div class="nail"></div>
                        </div>
                        <div class="gold-frame" id="frame-1">
                            <img src="fotka1.jpg">
                        </div>
                        <div class="plaque" id="plaque-1">GRA 1<br><small>Serca</small></div>
                    </div>

                    <div class="spot shape-landscape" onclick="idzDoGry(2)">
                        <div class="outline-placeholder" id="outline-2">
                            <div class="nail"></div>
                        </div>
                        <div class="gold-frame" id="frame-2">
                            <img src="fotka2.jpg">
                        </div>
                        <div class="plaque" id="plaque-2">GRA 2<br><small>Pary</small></div>
                    </div>

                    <div class="spot shape-square" onclick="idzDoGry(3)">
                        <div class="outline-placeholder" id="outline-3">
                            <div class="nail"></div>
                        </div>
                        <div class="gold-frame" id="frame-3">
                            <img src="fotka3.jpg">
                        </div>
                        <div class="plaque" id="plaque-3">GRA 3<br><small>Quiz</small></div>
                    </div>

                    <div class="spot shape-oval" onclick="idzDoGry(4)">
                        <div class="outline-placeholder" id="outline-4">
                            <div class="nail"></div>
                        </div>
                        <div class="gold-frame" id="frame-4">
                            <img src="fotka4.jpg">
                        </div>
                        <div class="plaque" id="plaque-4">GRA 4<br><small>Puzzle</small></div>
                    </div>

                    <div class="spot shape-landscape" onclick="idzDoGry(5)">
                        <div class="outline-placeholder" id="outline-5">
                            <div class="nail"></div>
                        </div>
                        <div class="gold-frame" id="frame-5">
                            <img src="fotka5.jpg">
                        </div>
                        <div class="plaque" id="plaque-5">GRA 5<br><small>Sekret</small></div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <button id="reset-btn" onclick="resetuj()">RESET</button>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            for (let i = 1; i <= 5; i++) {
                if (localStorage.getItem('wygrana' + i) === 'tak') {
                    pokazObraz(i);
                }
            }
        });

        function pokazObraz(nr) {
            // Ukryj przerywaną linię i gwóźdź
            document.getElementById('outline-' + nr).style.display = 'none';
            // Ukryj podpis
            document.getElementById('plaque-' + nr).style.display = 'none';
            
            // Pokaż złotą ramę
            const frame = document.getElementById('frame-' + nr);
            frame.style.display = 'block';
            
            // Zmień kursor
            frame.parentElement.style.cursor = 'default';
            frame.parentElement.onclick = () => alert("Już zdobyłaś to wspomnienie! ❤️");
        }

        function idzDoGry(nr) {
            if (localStorage.getItem('wygrana' + nr) !== 'tak') {
                window.location.href = 'gra' + nr + '.html';
            }
        }

        function resetuj() {
            if(confirm("Zresetować?")) {
                localStorage.clear();
                location.reload();
            }
        }
    </script>
</body>
</html>
